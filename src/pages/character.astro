---
import Layout from '../layouts/Layout.astro';

let characters: any[] = [];

const response = await fetch('https://rickandmortyapi.com/api/character');
const data = await response.json();
try {
  if (response.status === 200) characters = data.results;
} catch (error) {
  console.log('ðŸš€ ~ file: character.astro:10 ~ error:', error);
}
---

<Layout>
  <div>
    <ul>
      {
        characters ? (
          characters.map((character) => (
            <li>
              <h1>{character.name}</h1>
              <img src={character.image} alt={character.name} />
            </li>
          ))
        ) : (
          <h1>No hay personajes</h1>
        )
      }
    </ul>
  </div>
</Layout>

<style></style>
